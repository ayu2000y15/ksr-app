import{u as b,r,a as m,j as e,H as C,b as p}from"./app-fAu9F8Qa.js";import{B as u}from"./app-logo-icon-BgJucqo0.js";import{C as y,a as w,b as N,c as S,d as E}from"./card-Cgnbhpij.js";import{I as h}from"./input-BU_BO1lw.js";import{L as x}from"./label-C17sZWtq.js";import{A as F}from"./app-sidebar-layout-DOACWoPa.js";/* empty css            */import"./index-46EnhBWJ.js";import"./index-CXCml9p6.js";function k(){const{props:f}=b(),a=f.role||null,[n,o]=r.useState(a?.name||""),[l,d]=r.useState(a?.description||""),[j,c]=r.useState(!1);r.useEffect(()=>{if(!a){const t=window.location.pathname.split("/"),s=t[t.length-2]==="roles"?t[t.length-1]:t[t.length-2];m.get(`/api/roles/${s}`).then(i=>{o(i.data.name),d(i.data.description||"")})}},[a]);const g=async t=>{t.preventDefault(),c(!0);try{const s=window.location.pathname.split("/"),i=s[s.length-2]==="roles"?s[s.length-1]:s[s.length-2];await m.put(`/api/roles/${i}`,{name:n,description:l}),p.visit(route("admin.roles"))}catch{}finally{c(!1)}},v=[{title:"各種設定",href:route("dashboard")},{title:"ロール管理",href:route("admin.roles")},{title:"編集",href:""}];return e.jsxs(F,{breadcrumbs:v,children:[e.jsx(C,{title:"ロール編集"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-2xl sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:g,children:e.jsxs(y,{children:[e.jsx(w,{children:e.jsx(N,{children:"ロール情報を編集してください"})}),e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"name",children:"名前"}),e.jsx(h,{id:"name",value:n,onChange:t=>o(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"description",children:"説明"}),e.jsx(h,{id:"description",value:l,onChange:t=>d(t.target.value)})]})]}),e.jsxs(E,{className:"flex justify-end gap-4",children:[e.jsx(u,{type:"button",variant:"outline",onClick:()=>p.visit(route("admin.roles")),children:"キャンセル"}),e.jsx(u,{disabled:j,children:"更新"})]})]})})})})]})}export{k as default};

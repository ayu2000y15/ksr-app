import{u as g,r as i,a as d,j as e,H as b,b as c}from"./app-DKRyNxm0.js";import{B as m}from"./app-logo-icon-CehQoGfx.js";import{C as v,a as C,b as y,c as w,d as N}from"./card-CXCGl3qJ.js";import{I as S}from"./input-BxbnIAp1.js";import{L as E}from"./label-CVrHGdFQ.js";import{A as H}from"./app-sidebar-layout-Duv2q2dp.js";/* empty css            */import"./index-C0UCeXqT.js";import"./index-C5wNPedj.js";function k(){const{props:p}=g(),a=p.role||null,[n,o]=i.useState(a?.name||""),[u,h]=i.useState(a?.description||""),[x,l]=i.useState(!1);i.useEffect(()=>{if(!a){const t=window.location.pathname.split("/"),s=t[t.length-2]==="roles"?t[t.length-1]:t[t.length-2];d.get(`/api/roles/${s}`).then(r=>{o(r.data.name),h(r.data.description||"")})}},[a]);const f=async t=>{t.preventDefault(),l(!0);try{const s=window.location.pathname.split("/"),r=s[s.length-2]==="roles"?s[s.length-1]:s[s.length-2];await d.put(`/api/roles/${r}`,{name:n,description:u}),c.visit(route("admin.roles"))}catch{}finally{l(!1)}},j=[{title:"各種設定",href:route("dashboard")},{title:"ロール管理",href:route("admin.roles")},{title:"編集",href:""}];return e.jsxs(H,{breadcrumbs:j,children:[e.jsx(b,{title:"ロール編集"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-2xl sm:px-6 lg:px-8",children:e.jsx("form",{onSubmit:f,children:e.jsxs(v,{children:[e.jsx(C,{children:e.jsx(y,{children:"ロール情報を編集してください"})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(E,{htmlFor:"name",children:"名前"}),e.jsx(S,{id:"name",value:n,onChange:t=>o(t.target.value),required:!0})]})}),e.jsxs(N,{className:"flex justify-end gap-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>c.visit(route("admin.roles")),children:"キャンセル"}),e.jsx(m,{disabled:x,children:"更新"})]})]})})})})]})}export{k as default};

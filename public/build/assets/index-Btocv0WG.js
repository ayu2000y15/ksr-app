import{j as e,r as m,H as C,L as j,c as n}from"./app-D5HjgYZZ.js";import{c as v,S as D,a as o,b as A,B as b}from"./app-logo-icon-BLca9DLE.js";import{C as L,a as T,b as M,c as H}from"./card-scDcKw04.js";import{A as E}from"./app-sidebar-layout-BUwJtxqM.js";import{L as V}from"./loader-circle-kIRWcU-i.js";/* empty css            */import"./index-5iB1gY44.js";import"./index-DLE9yJSO.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],I=v("ArrowDown",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],U=v("ArrowUpDown",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],R=v("ArrowUp",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],G=v("Trash",F),J=A("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function f({className:t,variant:r,asChild:c=!1,...i}){const a=c?D:"span";return e.jsx(a,{"data-slot":"badge",className:o(J({variant:r}),t),...i})}function K({className:t,...r}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:o("w-full caption-bottom text-sm",t),...r})})}function O({className:t,...r}){return e.jsx("thead",{"data-slot":"table-header",className:o("[&_tr]:border-b",t),...r})}function Q({className:t,...r}){return e.jsx("tbody",{"data-slot":"table-body",className:o("[&_tr:last-child]:border-0",t),...r})}function g({className:t,...r}){return e.jsx("tr",{"data-slot":"table-row",className:o("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function x({className:t,...r}){return e.jsx("th",{"data-slot":"table-head",className:o("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function l({className:t,...r}){return e.jsx("td",{"data-slot":"table-cell",className:o("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}const W=[{title:"ダッシュボード",href:route("dashboard")},{title:"ユーザー管理",href:route("users.index")}],h=({children:t,sort_key:r,queryParams:c})=>{const i=c?.sort||"id",a=c?.direction||"asc",d=i===r,p=d&&a==="asc"?"desc":"asc",u=d?a==="asc"?R:I:U;return e.jsxs(j,{href:route("users.index",{sort:r,direction:p}),preserveState:!0,preserveScroll:!0,className:"flex items-center gap-2",children:[t,e.jsx(u,{className:`h-4 w-4 ${d?"text-primary":"text-muted-foreground"}`})]})};function se({users:t,queryParams:r={}}){const[c,i]=m.useState(t.data),[a,d]=m.useState(t.next_page_url),[p,u]=m.useState(!1);m.useEffect(()=>{i(t.data),d(t.next_page_url)},[t]);const w=()=>{a&&(u(!0),n.get(a,{},{preserveState:!0,preserveScroll:!0,onSuccess:s=>{const N=s.props.users.data,_=s.props.users.next_page_url;i(S=>[...S,...N]),d(_),u(!1)},onError:()=>{u(!1)}}))},k=s=>{confirm(`ユーザー「${s.name}」を削除してもよろしいですか？この操作は取り消せません。`)&&n.delete(route("users.destroy",s.id),{preserveState:!1,onError:()=>{}})},y=s=>{switch(s){case"active":return e.jsx(f,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"アクティブ"});case"retired":return e.jsx(f,{variant:"secondary",children:"退職"});case"shared":return e.jsx(f,{variant:"default",children:"共有アカウント"});default:return e.jsx(f,{variant:"outline",children:s})}};return e.jsxs(E,{breadcrumbs:W,children:[e.jsx(C,{title:"ユーザー管理"}),e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsxs(L,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between",children:[e.jsx(M,{children:"ユーザー一覧"}),e.jsx(j,{href:route("users.create"),children:e.jsx(b,{children:"ユーザー新規作成"})})]}),e.jsxs(H,{children:[e.jsxs(K,{children:[e.jsx(O,{children:e.jsxs(g,{children:[e.jsx(x,{children:e.jsx(h,{sort_key:"id",queryParams:r,children:"ID"})}),e.jsx(x,{children:e.jsx(h,{sort_key:"name",queryParams:r,children:"名前"})}),e.jsx(x,{children:e.jsx(h,{sort_key:"email",queryParams:r,children:"LINE名"})}),e.jsx(x,{children:e.jsx(h,{sort_key:"status",queryParams:r,children:"ステータス"})}),e.jsx(x,{children:e.jsx(h,{sort_key:"created_at",queryParams:r,children:"登録日"})})]})}),e.jsx(Q,{children:c.map(s=>e.jsxs(g,{className:"hover:bg-gray-50",children:[e.jsx(l,{className:"cursor-pointer",onClick:()=>n.get(route("users.edit",s.id),{},{preserveScroll:!0}),children:s.id}),e.jsx(l,{className:"cursor-pointer",onClick:()=>n.get(route("users.edit",s.id),{},{preserveScroll:!0}),children:s.name}),e.jsx(l,{className:"cursor-pointer",onClick:()=>n.get(route("users.edit",s.id),{},{preserveScroll:!0}),children:s.line_name}),e.jsx(l,{className:"cursor-pointer",onClick:()=>n.get(route("users.edit",s.id),{},{preserveScroll:!0}),children:y(s.status)}),e.jsx(l,{className:"cursor-pointer",onClick:()=>n.get(route("users.edit",s.id),{},{preserveScroll:!0}),children:new Date(s.created_at).toLocaleDateString()}),e.jsx(l,{className:"text-right",children:e.jsxs(b,{variant:"destructive",size:"sm",onClick:()=>k(s),children:[e.jsx(G,{className:"mr-2 h-4 w-4"})," 削除"]})})]},s.id))})]}),a&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(b,{onClick:w,disabled:p,variant:"outline",children:[p&&e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),"もっとみる"]})})]})]})})]})}export{se as default};

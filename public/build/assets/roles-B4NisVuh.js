import{r,u as g,a as c,j as s,H as y,L as T,b as _}from"./app-DKRyNxm0.js";import{H as w}from"./heading-BX_Jp4Kc.js";import{c as C,B as i}from"./app-logo-icon-CehQoGfx.js";import{C as N,a as v,b as H,c as R}from"./card-CXCGl3qJ.js";import{P,T as k,a as L,b as d,c as n,d as S,e as l,f as z}from"./table-DX0lFvNo.js";import{T as A}from"./toast-DqCeM660.js";import{A as B}from"./app-sidebar-layout-Duv2q2dp.js";/* empty css            */import"./index-C5wNPedj.js";import"./index-C0UCeXqT.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$=C("SquarePen",E),q=[{title:"各種設定",href:"#"},{title:"ロール管理",href:route("admin.roles")}];function V(){const[m,h]=r.useState([]),[t,x]=r.useState(null),p=g(),{permissions:a}=p.props;a?.role?.view||a?.is_system_admin;const j=a?.role?.create||a?.is_system_admin,u=a?.role?.update||a?.is_system_admin,f=a?.role?.delete||a?.is_system_admin;r.useEffect(()=>{o()},[]);const o=async()=>{const e=await c.get("/api/roles");h(e.data)},b=async e=>{window.confirm(`ロール「${e.name}」を削除しますか？`)&&(await c.delete(`/api/roles/${e.id}`),o())};return s.jsxs(B,{breadcrumbs:q,children:[s.jsx(y,{title:"ロール管理"}),s.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(w,{title:"ロール管理",description:"ユーザーの役割（管理者、一般など）を定義する。"})}),s.jsxs(N,{children:[s.jsxs(v,{className:"flex flex-row items-center justify-between",children:[s.jsx(H,{children:"ロール一覧"}),j&&s.jsx(T,{href:route("admin.roles")+"/create",children:s.jsxs(i,{children:[s.jsx(P,{className:"mr-0 h-4 w-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"新規ロール"})]})})]}),s.jsxs(R,{children:[s.jsxs(k,{children:[s.jsx(L,{children:s.jsxs(d,{children:[s.jsx(n,{children:"id"}),s.jsx(n,{children:"名前"}),s.jsx(n,{className:"text-right",children:"操作"})]})}),s.jsx(S,{children:m.map(e=>s.jsxs(d,{children:[s.jsx(l,{children:e.id}),s.jsx(l,{children:e.name}),s.jsxs(l,{className:"text-right",children:[u&&s.jsxs(i,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>_.get(route("admin.roles")+`/${e.id}/edit`),children:[s.jsx($,{className:"mr-2 h-4 w-4"})," 編集"]}),f&&s.jsxs(i,{variant:"destructive",size:"sm",onClick:()=>b(e),children:[s.jsx(z,{className:"mr-2 h-4 w-4"})," 削除"]})]})]},e.id))})]}),t&&s.jsx(A,{message:t.message,type:t.type,onClose:()=>x(null)})]})]})]})]})}export{V as default};
